# QQ å†œåœºæŒ‚æœºè„šæœ¬

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ QQ å†œåœºè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œæ”¯æŒè‡ªåŠ¨æ”¶è·ã€ç§æ¤ã€å·¡æŸ¥å¥½å‹ã€é¢†å–ä»»åŠ¡ç­‰åŠŸèƒ½ã€‚æ”¯æŒ QQ å’Œå¾®ä¿¡ä¸¤ä¸ªå¹³å°ï¼Œå¯é€šè¿‡ Docker è½»æ¾éƒ¨ç½²ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **è‡ªåŠ¨æ”¶è·** - è‡ªåŠ¨æ”¶è·æˆç†Ÿä½œç‰©
- âœ… **è‡ªåŠ¨ç§æ¤** - æ”¶è·åè‡ªåŠ¨è´­ä¹°ç§å­å¹¶ç§æ¤
- âœ… **è‡ªåŠ¨æ–½è‚¥** - è‡ªåŠ¨ç»™ä½œç‰©æ–½è‚¥
- âœ… **è‡ªåŠ¨é™¤è‰/é™¤è™«** - è‡ªåŠ¨æ¸…ç†å†œåœº
- âœ… **è‡ªåŠ¨é“²é™¤** - é“²é™¤æ¯æ­»ä½œç‰©
- âœ… **è‡ªåŠ¨å‡ºå”®** - æ¯åˆ†é’Ÿè‡ªåŠ¨å‡ºå”®ä»“åº“æœå®

### å¥½å‹åŠŸèƒ½
- âœ… **è‡ªåŠ¨å·¡æŸ¥å¥½å‹** - å¸®å¿™æµ‡æ°´ã€é™¤è‰ã€é™¤è™«
- âœ… **è‡ªåŠ¨å·èœ** - è‡ªåŠ¨ä»å¥½å‹å†œåœºå·èœ
- âœ… **å¥½å‹é»‘åå•** - æ”¯æŒæŒ‡å®šä¸å·¡æŸ¥çš„å¥½å‹
- âœ… **è‡ªåŠ¨åŒæ„å¥½å‹ç”³è¯·** - å¾®ä¿¡ç¯å¢ƒè‡ªåŠ¨åŒæ„å¥½å‹ç”³è¯·

### ä»»åŠ¡ç³»ç»Ÿ
- âœ… **è‡ªåŠ¨é¢†å–ä»»åŠ¡** - è‡ªåŠ¨é¢†å–å®Œæˆçš„ä»»åŠ¡å¥–åŠ±
- âœ… **åˆ†äº«ç¿»å€** - æ”¯æŒåˆ†äº«ç¿»å€/ä¸‰å€å¥–åŠ±
- âœ… **è‡ªåŠ¨é™çº§** - åˆ†äº«ç¿»å€å¤±è´¥è‡ªåŠ¨é™çº§ä¸ºæ™®é€šé¢†å–

### é€šçŸ¥åŠŸèƒ½
- âœ… **ä¼ä¸šå¾®ä¿¡é€šçŸ¥** - ç™»å½•æˆåŠŸã€æ‰çº¿ç­‰äº‹ä»¶æ¨é€
- âœ… **å®æ—¶æ—¥å¿—** - è¯¦ç»†çš„æ“ä½œæ—¥å¿—è¾“å‡º

### éƒ¨ç½²æ–¹å¼
- âœ… **Docker æ”¯æŒ** - ä¸€é”® Docker éƒ¨ç½²
- âœ… **ç¯å¢ƒå˜é‡é…ç½®** - çµæ´»çš„ç¯å¢ƒå˜é‡æ”¯æŒ
- âœ… **å¤šè´¦å·éƒ¨ç½²** - æ”¯æŒåŒæ—¶è¿è¡Œå¤šä¸ªè´¦å·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+ æˆ– Docker
- QQ/å¾®ä¿¡å°ç¨‹åºç™»å½• code
- ï¼ˆå¯é€‰ï¼‰ä¼ä¸šå¾®ä¿¡æœºå™¨äºº webhook

### æœ¬åœ°è¿è¡Œ

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/qq-farm-bot.git
cd qq-farm-bot
```

#### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

#### 3. é…ç½®æ–‡ä»¶

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿
cp config.example.json config.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# å¡«å†™ä½ çš„ç™»å½• codeã€å¹³å°ã€webhook ç­‰ä¿¡æ¯
```

#### 4. è¿è¡Œè„šæœ¬

```bash
# QQ å¹³å°
node client.js --code your_qq_code

# å¾®ä¿¡å¹³å°
node client.js --code your_wx_code --wx

# ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆæ— éœ€ä¼  codeï¼‰
node client.js
```

### Docker è¿è¡Œ

#### å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

**Windows:**
```cmd
docker-run.bat
```

**Linux/Mac:**
```bash
chmod +x docker-run.sh
./docker-run.sh
```

#### æ‰‹åŠ¨ Docker å‘½ä»¤

```bash
# æ„å»ºé•œåƒ
docker build -t qq-farm:latest .

# è¿è¡Œå®¹å™¨
docker run -d --name qq-farm-bot --restart unless-stopped \
  -e QQ_CODE=your_code \
  -e PLATFORM=qq \
  -e WECOM_WEBHOOK=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx \
  -e FRIEND_BLACKLIST=1118181882,987654321 \
  -e TZ=Asia/Shanghai \
  qq-farm:latest

# æŸ¥çœ‹æ—¥å¿—
docker logs -f qq-farm-bot
```

#### Docker Compose

```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶
docker-compose up -d

# ä½¿ç”¨ç¯å¢ƒå˜é‡
docker-compose -f docker-compose.env.yml up -d
```

## ğŸ“‹ é…ç½®è¯´æ˜

### config.json é…ç½®

```json
{
  "login": {
    "wxCode": "å¾®ä¿¡ç™»å½•code",
    "qqCode": "QQç™»å½•code",
    "platform": "qq"
  },
  
  "notification": {
    "wecomWebhook": "ä¼ä¸šå¾®ä¿¡æœºå™¨äººåœ°å€",
    "enabled": true
  },
  
  "friend": {
    "blacklist": [1118181882, "å¥½å‹åå­—"],
    "disableAllFriendCheck": false
  },
  
  "invite": {
    "links": ["?uid=xxx&openid=xxx&share_source=xxx"]
  }
}
```

### ç¯å¢ƒå˜é‡é…ç½®

æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®æ–‡ä»¶ï¼ˆä¼˜å…ˆçº§æ›´é«˜ï¼‰ï¼š

| ç¯å¢ƒå˜é‡ | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| `QQ_CODE` | QQ ç™»å½• code | `QQ_CODE=your_code` |
| `WX_CODE` | å¾®ä¿¡ç™»å½• code | `WX_CODE=your_code` |
| `PLATFORM` | å¹³å°é€‰æ‹© | `PLATFORM=qq` æˆ– `wx` |
| `WECOM_WEBHOOK` | ä¼ä¸šå¾®ä¿¡æœºå™¨äºº | `WECOM_WEBHOOK=https://...` |
| `NOTIFICATION_ENABLED` | å¯ç”¨é€šçŸ¥ | `NOTIFICATION_ENABLED=true` |
| `FRIEND_BLACKLIST` | å¥½å‹é»‘åå• | `FRIEND_BLACKLIST=1118181882,987654321` |
| `DISABLE_ALL_FRIEND_CHECK` | ç¦ç”¨æ‰€æœ‰å¥½å‹å·¡æŸ¥ | `DISABLE_ALL_FRIEND_CHECK=true` |

è¯¦è§ [ENV_VARIABLES.md](ENV_VARIABLES.md)

## ğŸ® ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•

```bash
# QQ å¹³å°ï¼Œè‡ªåŠ¨å·¡æŸ¥
node client.js --code your_qq_code

# å¾®ä¿¡å¹³å°ï¼Œè‡ªåŠ¨å·¡æŸ¥
node client.js --code your_wx_code --wx

# è‡ªå®šä¹‰å·¡æŸ¥é—´éš”ï¼ˆç§’ï¼‰
node client.js --code your_code --interval 30 --friend-interval 5
```

### å¥½å‹é»‘åå•

```bash
# æ‹‰é»‘æŒ‡å®šå¥½å‹
docker run -d --name qq-farm-bot \
  -e QQ_CODE=your_code \
  -e FRIEND_BLACKLIST=1118181882,987654321 \
  br00wn/qq-farm:latest

# ç¦ç”¨æ‰€æœ‰å¥½å‹å·¡æŸ¥
docker run -d --name qq-farm-bot \
  -e QQ_CODE=your_code \
  -e FRIEND_BLACKLIST=all \
  br00wn/qq-farm:latest
```

### ä¼ä¸šå¾®ä¿¡é€šçŸ¥

```bash
docker run -d --name qq-farm-bot \
  -e QQ_CODE=your_code \
  -e WECOM_WEBHOOK=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx \
  -e NOTIFICATION_ENABLED=true \
  br00wn/qq-farm:latest
```

### å¤šè´¦å·éƒ¨ç½²

```yaml
version: '3.8'

services:
  qq-farm-1:
    image: br00wn/qq-farm:latest
    environment:
      - QQ_CODE=è´¦å·1çš„code
      - PLATFORM=qq
      - FRIEND_BLACKLIST=1118181882

  qq-farm-2:
    image: br00wn/qq-farm:latest
    environment:
      - QQ_CODE=è´¦å·2çš„code
      - PLATFORM=qq
      - FRIEND_BLACKLIST=all
```

## ğŸ“Š æ—¥å¿—è¾“å‡ºç¤ºä¾‹

```
[å¯åŠ¨] QQ code=0c3rkhll... å†œåœº1s å¥½å‹10s
========== ç™»å½•æˆåŠŸ ==========
  GID:    123456789
  æ˜µç§°:   å¼ ä¸‰
  ç­‰çº§:   25
  é‡‘å¸:   12345
===============================

[å·¡ç”°] æ£€æŸ¥å®Œæˆ: æ”¶è·3 ç§æ¤3 æ–½è‚¥2
[å¥½å‹] å·¡æŸ¥ 5 äºº â†’ å·6/é™¤è‰2/æµ‡æ°´1
[ä»»åŠ¡] å‘ç° 2 ä¸ªå¯é¢†å–ä»»åŠ¡
[ä»»åŠ¡] âœ“ å®Œæˆ1æ¬¡æ”¶è· â†’ é‡‘å¸1800/ç‚¹åˆ¸20
[ä»“åº“] å‡ºå”®å®Œæˆï¼Œå…±è·å¾— 100 é‡‘å¸
```

## ğŸ”§ å‘½ä»¤è¡Œå‚æ•°

```bash
node client.js [é€‰é¡¹]

é€‰é¡¹:
  --code <code>              ç™»å½• codeï¼ˆå¿…éœ€ï¼Œæˆ–åœ¨ config.json ä¸­é…ç½®ï¼‰
  --qr                       QQ å¹³å°æ‰«ç ç™»å½•
  --wx                       ä½¿ç”¨å¾®ä¿¡å¹³å°ï¼ˆé»˜è®¤ä¸º QQï¼‰
  --interval <ç§’>            è‡ªå·±å†œåœºå·¡æŸ¥é—´éš”ï¼ˆé»˜è®¤ 10 ç§’ï¼‰
  --friend-interval <ç§’>     å¥½å‹å·¡æŸ¥é—´éš”ï¼ˆé»˜è®¤ 1 ç§’ï¼‰
  --verify                   éªŒè¯ proto å®šä¹‰
  --decode <æ•°æ®>            è§£ç  PB æ•°æ®
```

## ğŸ³ Docker ç›¸å…³

### æ„å»ºé•œåƒ

```bash
docker build -t qq-farm:latest .
```

### æ¨é€åˆ° Docker Hub

```bash
# ç™»å½•
docker login

# æ‰“æ ‡ç­¾
docker tag qq-farm:latest yourusername/qq-farm:latest

# æ¨é€
docker push yourusername/qq-farm:latest
```

### å¸¸ç”¨ Docker å‘½ä»¤

```bash
# æŸ¥çœ‹æ—¥å¿—
docker logs -f qq-farm-bot

# åœæ­¢å®¹å™¨
docker stop qq-farm-bot

# å¯åŠ¨å®¹å™¨
docker start qq-farm-bot

# é‡å¯å®¹å™¨
docker restart qq-farm-bot

# åˆ é™¤å®¹å™¨
docker rm -f qq-farm-bot
```

è¯¦è§ [DOCKER.md](DOCKER.md)

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

### share.txtï¼ˆé‚€è¯·é“¾æ¥ï¼‰

ä»…å¾®ä¿¡ç¯å¢ƒæœ‰æ•ˆï¼Œæ ¼å¼ï¼š

```
?uid=123456&openid=oABCD1234567890&share_source=1&doc_id=abc123
?uid=789012&openid=oXYZ9876543210&share_source=2&doc_id=def456
```

å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›é‚€è¯·é“¾æ¥ã€‚

### .env æ–‡ä»¶

ç”¨äº Docker ç¯å¢ƒå˜é‡é…ç½®ï¼Œè¯¦è§ [.env.example](.env.example)

## âš™ï¸ é«˜çº§é…ç½®

### è‡ªå®šä¹‰å·¡æŸ¥é—´éš”

```bash
# å†œåœº 30 ç§’å·¡æŸ¥ä¸€æ¬¡ï¼Œå¥½å‹ 5 ç§’å·¡æŸ¥ä¸€æ¬¡
node client.js --code your_code --interval 30 --friend-interval 5
```

### è°ƒè¯•æ¨¡å¼

```bash
# æŸ¥çœ‹æŒ‡å®šå¥½å‹çš„è¯¦ç»†ä¿¡æ¯
# åœ¨ src/friend.js ä¸­ä¿®æ”¹ DEBUG_FRIEND_LANDS å˜é‡
```

### ç¦ç”¨åŠŸèƒ½

```bash
# ç¦ç”¨æ‰€æœ‰å¥½å‹å·¡æŸ¥
DISABLE_ALL_FRIEND_CHECK=true

# ç¦ç”¨ä¼ä¸šå¾®ä¿¡é€šçŸ¥
NOTIFICATION_ENABLED=false
```

## ğŸ” å®‰å…¨å»ºè®®

1. **ä¸è¦åˆ†äº« config.json** - åŒ…å«ç™»å½•å‡­è¯
2. **ä½¿ç”¨ç§æœ‰ Docker ä»“åº“** - å¦‚æœé•œåƒåŒ…å«æ•æ„Ÿä¿¡æ¯
3. **å®šæœŸæ›´æ–° code** - code æœ‰æœ‰æ•ˆæœŸ
4. **ä½¿ç”¨ç¯å¢ƒå˜é‡** - æ¯”é…ç½®æ–‡ä»¶æ›´å®‰å…¨
5. **ç›‘æ§æ—¥å¿—** - åŠæ—¶å‘ç°å¼‚å¸¸

## ğŸ› æ•…éšœæ’æŸ¥

### è¿æ¥å¤±è´¥

```
[WS] é”™è¯¯: unable to verify the first certificate
```

**è§£å†³æ–¹æ¡ˆï¼š** è¿™æ˜¯ SSL è¯ä¹¦éªŒè¯é—®é¢˜ï¼Œå·²åœ¨ Dockerfile ä¸­å¤„ç†ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚

### ä»»åŠ¡é¢†å–å¤±è´¥

```
[ä»»åŠ¡] âš  âœ— å®Œæˆ1æ¬¡æ”¶è·: ä»»åŠ¡æœªå®Œæˆ
```

**è§£å†³æ–¹æ¡ˆï¼š** è„šæœ¬ä¼šè‡ªåŠ¨é™çº§ä¸ºæ™®é€šé¢†å–ï¼Œæ— éœ€å¤„ç†ã€‚

### å®¹å™¨æ— æ³•å¯åŠ¨

1. æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼š`docker logs qq-farm-bot`
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. é‡å¯ Dockerï¼š`docker restart qq-farm-bot`

è¯¦è§ [DOCKER.md](DOCKER.md) çš„æ•…éšœæ’æŸ¥éƒ¨åˆ†

## ğŸ“š æ–‡æ¡£

- [DOCKER.md](DOCKER.md) - Docker éƒ¨ç½²è¯¦ç»†æŒ‡å—
- [ENV_VARIABLES.md](ENV_VARIABLES.md) - ç¯å¢ƒå˜é‡å®Œæ•´è¯´æ˜
- [DOCKER_QUICK_START.md](DOCKER_QUICK_START.md) - Docker å¿«é€Ÿå¼€å§‹

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## âš–ï¸ å£°æ˜

æœ¬é¡¹ç›®å¼€æºå…è´¹ï¼Œä¸¥ç¦å€’å–ã€‚è¯·ä»å…¬å¼€ä»“åº“å…è´¹è·å–ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…çš„æ”¯æŒï¼

---

**æœ€åæ›´æ–°ï¼š** 2026-02-14

**é¡¹ç›®åœ°å€ï¼š** https://github.com/yourusername/qq-farm-bot

**é—®é¢˜åé¦ˆï¼š** https://github.com/yourusername/qq-farm-bot/issues
